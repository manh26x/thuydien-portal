<p-panel header="Thông tin báo cáo KPI">
  <div class="split-horizontal-no-line"></div>
  <aw-kpi-info [kpiData]="kpiData"></aw-kpi-info>

  <h5 class="p-text-bold">Chi tiết Dashboard KPI</h5>
  <aw-kpi-filter [areaList]="areaList" (filter)="doFilter($event)"></aw-kpi-filter>
  <p-table #tableKpi [value]="kpiAreaList"
           [paginator]="true"
           [rows]="10"
           [totalRecords]="kpiAreaList.length"
           [rowsPerPageOptions]="[10, 20, 50, 100]"
           [showCurrentPageReport]="true">
    <ng-template pTemplate="header">
      <tr>
        <th style="width: 50px;">STT</th>
        <th>Các chỉ số</th>
        <th>Phân vùng dữ liệu</th>
        <th>Cho phép hiển thị</th>
        <th>Thứ tự hiển thị</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-item let-i="rowIndex">
      <tr>
        <td>{{i + 1}}</td>
        <td>{{item.value}}</td>
        <td>
          <ng-container *ngIf="item.areaId; else noArea">
            <i class="pi pi-circle-on" [ngStyle]="{'color': item.areaColor}"></i>
            {{item.areaName}}
          </ng-container>
          <ng-template #noArea>
            -
          </ng-template>
        </td>
        <td>
          <p-checkbox [disabled]="true" name="allowView" [value]="item" [(ngModel)]="kpiAreaSelectedList"></p-checkbox>
        </td>
        <td>{{item.displayOrder}}</td>
      </tr>
    </ng-template>
  </p-table>

  <div class="p-text-right p-mt-3">
    <button (click)="gotoReport()" pButton label="Quay lại" icon="pi pi-arrow-left" class="p-button-secondary"></button>
  </div>
</p-panel>
