<p-panel header="{{'kpi.info' | translate}}">
  <div class="split-horizontal-no-line"></div>
  <aw-kpi-info [kpiData]="kpiData"></aw-kpi-info>

  <h5 class="p-text-bold">{{'kpi.detail' | translate}}</h5>
  <aw-kpi-filter [areaList]="areaList" (filter)="doFilter($event)"></aw-kpi-filter>
  <p-table #tableKpi [value]="kpiAreaList"
           [paginator]="true"
           [rows]="10"
           [totalRecords]="kpiAreaList.length"
           [rowsPerPageOptions]="[10, 20, 50, 100]"
           [showCurrentPageReport]="true"
           currentPageReportTemplate="{{ 'paging' | translate }}">
    <ng-template pTemplate="header">
      <tr>
        <th style="width: 50px;">{{'no' | translate}}</th>
        <th>{{'kpi.indexList' | translate}}</th>
        <th>{{'kpi.area' | translate}}</th>
        <th>{{'kpi.allowDisplay' | translate}}</th>
        <th>{{'kpi.orderDisplay' | translate}}</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-item let-i="rowIndex">
      <tr>
        <td>{{i + 1}}</td>
        <td>{{item.value}}</td>
        <td>
          <ng-container *ngIf="item.areaId; else noArea">
            <i class="pi pi-circle-on" [ngStyle]="{'color': item.areaColor}"></i>
            {{item.areaName}}
          </ng-container>
          <ng-template #noArea>
            -
          </ng-template>
        </td>
        <td>
          <p-checkbox [disabled]="true" name="allowView" [value]="item" [(ngModel)]="kpiAreaSelectedList"></p-checkbox>
        </td>
        <td>
          <ng-container *ngIf="item.displayOrder > 0">
            {{item.displayOrder}}
          </ng-container>
        </td>
      </tr>
    </ng-template>

    <ng-template pTemplate="emptymessage">
      <tr>
        <td [attr.colspan]="5">
          {{'noData' | translate}}
        </td>
      </tr>
    </ng-template>
  </p-table>

  <div class="p-text-right p-mt-3">
    <button (click)="gotoReport()" pButton label="{{'btn.back' | translate}}" class="p-button-secondary"></button>
  </div>
</p-panel>
